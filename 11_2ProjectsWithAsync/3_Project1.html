<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Background Color Changer For Every Second</title>
  <style>
    body {
      font-family: monospace;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin: auto;
      text-align: center;
    }
    .buttons{
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: row;
    }
  </style>
</head>

<body style="background-color: black; color: white">
  <h1 style="font-weight: bolder">
    Press Start to change the background color every second
  </h1>
  <div class="buttons">
    <button id="start">Start</button>
    <button id="stop">Stop</button>
  </div>
</body>
<script>
  // gernerate random colors
  const randomColor = function () {
    const hex = "0123456789ABCDEF";
    let color = "#";
    for (let i = 0; i < 6; i++) {
      color += hex[Math.floor(Math.random() * 16)];
      //its a ramdom positions of hex
    }
    return color;
  };

  // console.log(randomColor); //yes it is generating random hex colors
  let intervalId;
  const startChangingColor = function () {

    if (intervalId == null) {
      // means ager intervalId me kuch he hi nahi toh me usme ye add karana chahta he & bina ise lagaye bhi kaam ho jata but its a safety check
      intervalId = setInterval(changeBgColor, 500)
    }

    function changeBgColor() {
      document.body.style.backgroundColor = randomColor();
      //ise chalate rehne kie lie interval me daal na padega

    }
  }

  const stopChangingColor = function () {
    // clearInterval(setInterval(changeBgColor,1000)) //nahi chalega so, bracket ke ander wale ko variable me store karo & use scope ke bahar declare karo
    clearInterval(intervalId);
    intervalId = null; //kaam ho jaye to intervalId khali kardo taki ager fir start pe click kare to efficiently run kare
    //now, ab if condition laga ke li jaise hi value null ho jaye waise hi hame interval chalana he

  }

  document.querySelector('#start').addEventListener('click', startChangingColor)
  document.querySelector('#stop').addEventListener('click', stopChangingColor)
</script>

</html>